function calculateCatcherBgWidth(){var a,b;if(a=$("#catcher"),b=$("#catcher-bg"),a.offset())if(window.matchMedia("(min-width: 768px)").matches){var c=$("#bg-section-one");b.css("width",a.offset().left+a.outerWidth()-c.width()+"px")}else b.css("width","100%")}function setup(){sizer=$("#gallery-sizer"),galleryList.each(function(){void 0===galleries[$(this).data("gallery")]&&(galleries[$(this).data("gallery")]=[]),galleries[$(this).data("gallery")].push($(this))}),$.each(galleries,function(a,b){$.each(b,function(a,b){b.click(function(c){var d=b.data("gallery");currentList=d,currentSlide=a,c.preventDefault(),$("#gallery-overlay").fadeIn();var e=$("#gallery");e.hide(),e.fadeIn(),e.addClass("gallery--top"),e.visible();var f=galleries[d].length;f<=9&&(f="0"+f),$("#number-total").text(f),firstOpen=!0,isPresenting=!0;var g=void 0!==galleries[currentList][currentSlide+1]?galleries[currentList][currentSlide+1]:null;renderSlide(a,b,galleries[currentList].length,g)})})}),$("#next").click(next),$("#prev").click(prev),$("#gallery-close").click(closeGallery),$(window).keydown(function(a){(27===a.which||88===a.which)&&closeGallery(),(13===a.which||32===a.which||39===a.which)&&next(),37===a.which&&prev()}),$(window).resize(function(){void 0!==currentImage&&calculateDims(currentImage)})}function next(){if(currentSlide+1<galleries[currentList].length){var a=$("#gallery-details");a.stop(),a.css("opacity","0");var b=void 0!==galleries[currentList][currentSlide+2]?galleries[currentList][currentSlide+2]:null;renderSlide(currentSlide+1,galleries[currentList][currentSlide+1],galleries[currentList].length,b),currentSlide++}}function prev(){if(currentSlide>0){var a=$("#gallery-details");a.stop(),a.css("opacity","0");var b=void 0!==galleries[currentList][currentSlide-2]?galleries[currentList][currentSlide-2]:null;renderSlide(currentSlide-1,galleries[currentList][currentSlide-1],galleries[currentList].length,b),currentSlide--}}function renderSlide(a,b,c,d){function h(){null!==d&&(f=new Image,f.src=d.attr("href")),calculateDims(e),timeout=setTimeout(function(){g.fadeIn(),g.attr("src",b.attr("href"))},500)}var e,f;$("#gallery-caption").html(b.attr("data-caption")),$("#number-current").text("0"+(a+1)),$("#gallery-details").animate({opacity:1},1e3);var g=$("#gallery-image");g.stop(),clearTimeout(timeout),firstOpen?(e=new Image,e.onload=h,e.src=b.attr("href")):g.fadeOut(function(){e=new Image,e.onload=h,e.src=b.attr("href")}),currentImage=e,firstOpen=!1,0===a?$("#prev").invisible():$("#prev").visible(),a===c-1?$("#next").invisible():$("#next").visible()}function calculateDims(a){var c,d,e,f,g,b=$("#gallery-details");c=a.height,d=a.width,e=$(window).width(),f=$(window).height(),d>.9*e&&(g=c/d,d=.9*e,c=d*g),c>.9*f-b.innerHeight()&&(g=d/c,c=.9*f-b.innerHeight(),d=c*g),sizer.width(d),sizer.height(c),b.width(d+8)}function makeGallery(){var a=$("<div class='gallery-overlay' id='gallery-overlay'></div><div class='gallery justify-content-center align-items-center flex-column' id='gallery'><div class='gallery__container' id='gallery-container'><div class='gallery__box'><div class='gallery__sizer' id='gallery-sizer'><div class='gallery__spinner'><div class='spinner'></div></div><img src='' class='gallery__image' id='gallery-image'></div><div class='gallery__nav d-flex flex-row'><div class='gallery__nav__prev d-flex align-items-center' id='prev'><div class='arrow-left ml-3'></div></div><div class='gallery__nav__next d-flex align-items-center' id='next'><div class='arrow-right ml-auto mr-3'></div></div></div></div><div class='gallery__details d-flex flex-row' id='gallery-details'><div><div class='gallery__caption' id='gallery-caption'></div><div class='gallery__number pt-1' id='gallery-number'><span class='gallery__number--active' id='number-current'></span> / <span id='number-total'></span></div></div><div class='gallery__close ml-auto mt-auto d-flex flex-column justify-content-between' id='gallery-close'><div class='gallery__close-element'></div><div class='gallery__close-element'></div></div></div></div></div>");$("body").append(a),$("#gallery").click(closeGallery),$("#gallery-container").click(function(a){a.stopPropagation()})}function closeGallery(){var a=$("#gallery");isPresenting=!1,a.fadeOut(function(){a.removeClass("gallery--top"),a.invisible(),$("#gallery-image").hide();var b=$("#gallery-details");b.stop(),b.css("opacity","0")}),$("#gallery-overlay").fadeOut()}$(window).resize(function(){calculateCatcherBgWidth()}),calculateCatcherBgWidth(),$("#toggle-menu").click(function(){var a=$(this),b=$("#panel");a.hasClass("hamburger--open")?(a.removeClass("hamburger--open"),b.removeClass("navigation-panel--open")):(a.addClass("hamburger--open"),b.addClass("navigation-panel--open"))}),function(a){a.fn.invisible=function(){return this.css("visibility","hidden")},a.fn.visible=function(){return this.css("visibility","visible")}}(jQuery);var galleryList=$("[data-gallery]"),galleries={},currentList,currentSlide,firstOpen,isPresenting,timeout,currentImage,sizer;makeGallery(),setup();